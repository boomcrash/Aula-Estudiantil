<div class="container">

    <h1>MATRICULACIÓN</h1>

    <br><br><br>

  
  <mat-stepper linear #stepper>
    <mat-step [stepControl]="firstFormGroup" [editable]="isEditable">
      <form [formGroup]="firstFormGroup">
        <ng-template matStepLabel>Horario</ng-template>
<div class="select">
    <mat-form-field appearance="fill">

      <mat-label>Módulo</mat-label>
      <mat-select [(value)]="selected" (selectionChange)="onSelect($event)">
        <mat-option value="1">1</mat-option>
        <mat-option value="2">2</mat-option>
       
  
      </mat-select>
    </mat-form-field>
</div>
  <br>
    <div class="select2">
        <mat-form-field appearance="fill">
          <mat-label>Materia</mat-label>
          <mat-select [value]="asignaturas" (selectionChange)="onSelectMateria($event)">
            <mat-option *ngFor="let asignatura of asignaturas" [value]="asignatura">
              {{ asignatura }}
            </mat-option>
          </mat-select>
        </mat-form-field>
    
    </div>
    <br>
    <div *ngIf="horarioMatriculacion.length != 0">
      <h1>Horarios Disponibles</h1>
      <table mat-table [dataSource]="horarioMatriculacion" class="mat-elevation-z8" >     
       
        <ng-container matColumnDef="accion" >
          <th mat-header-cell *matHeaderCellDef style="width: 100px;">Agregar</th>
          <td mat-cell *matCellDef="let element" style="width: 80px;">
            <button mat-icon-button (click)="add(element)" style="background-color: transparent !important;">
              <mat-icon class="add">add</mat-icon>
            </button>            
          </td>
        </ng-container>

        <ng-container matColumnDef="paralelo_curso">
          <th mat-header-cell *matHeaderCellDef>Paralelo</th>
          <td mat-cell *matCellDef="let element"> {{element.paralelo_curso}} </td>
        </ng-container>
  
  
        <ng-container matColumnDef="curso_cupo">
          <th mat-header-cell *matHeaderCellDef>Cupo</th>
          <td mat-cell *matCellDef="let element"> {{element.cupo_curso}}/40 </td>
        </ng-container>
  
            
        <ng-container matColumnDef="dia_horario1">
          <th mat-header-cell *matHeaderCellDef>Lunes</th>
          <td mat-cell *matCellDef="let element"> {{element.horario_ordenado[0].hora}} </td>
        </ng-container>
        
        <ng-container matColumnDef="dia_horario2">
          <th mat-header-cell *matHeaderCellDef>Martes</th>
          <td mat-cell *matCellDef="let element"> {{element.horario_ordenado[1].hora}} </td>
        </ng-container>
  
  
        <ng-container matColumnDef="dia_horario3">
          <th mat-header-cell *matHeaderCellDef>Miercoles</th>
          <td mat-cell *matCellDef="let element"> {{element.horario_ordenado[2].hora}} </td>
          </ng-container>
  
        <ng-container matColumnDef="dia_horario4">
          <th mat-header-cell *matHeaderCellDef>Jueves</th>
          <td mat-cell *matCellDef="let element"> {{element.horario_ordenado[3].hora}} </td>
        </ng-container>
  
        <ng-container matColumnDef="dia_horario5">
          <th mat-header-cell *matHeaderCellDef>Viernes</th>
          <td mat-cell *matCellDef="let element"> {{element.horario_ordenado[4].hora}} </td>
        </ng-container>
  
  
        
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    </div>

    <!-- TABLA 2 -->
    <br>
    <br>
    <div *ngIf="horarioMatriculado.length != 0">
      <h1>Horario Seleccionado</h1>
      <table mat-table [dataSource]="horarioMatriculado" class="mat-elevation-z9">     
       
        <ng-container matColumnDef="accion" >
          <th mat-header-cell *matHeaderCellDef style="width: 100px;">Borrar</th>
          <td mat-cell *matCellDef="let element" style="width: 80px;">
            <button mat-icon-button (click)="delete(element)" style="background-color: transparent !important;">
              <mat-icon class="add">clear</mat-icon>
            </button>            
          </td>
        </ng-container>

        <ng-container matColumnDef="materia">
          <th mat-header-cell *matHeaderCellDef>Materia</th>
          <td mat-cell *matCellDef="let element"> {{element.materia}} </td>
        </ng-container>

        <ng-container matColumnDef="paralelo_curso">
          <th mat-header-cell *matHeaderCellDef>Paralelo</th>
          <td mat-cell *matCellDef="let element"> {{element.paralelo_curso}} </td>
        </ng-container>
  
  
        <ng-container matColumnDef="curso_cupo">
          <th mat-header-cell *matHeaderCellDef>Cupo</th>
          <td mat-cell *matCellDef="let element"> {{element.cupo_curso}}/40 </td>
        </ng-container>
  
            
        <ng-container matColumnDef="dia_horario1">
          <th mat-header-cell *matHeaderCellDef>Lunes</th>
          <td mat-cell *matCellDef="let element"> {{element.horario_ordenado[0].hora}} </td>
        </ng-container>
        
        <ng-container matColumnDef="dia_horario2">
          <th mat-header-cell *matHeaderCellDef>Martes</th>
          <td mat-cell *matCellDef="let element"> {{element.horario_ordenado[1].hora}} </td>
        </ng-container>
  
  
        <ng-container matColumnDef="dia_horario3">
          <th mat-header-cell *matHeaderCellDef>Miercoles</th>
          <td mat-cell *matCellDef="let element"> {{element.horario_ordenado[2].hora}} </td>
          </ng-container>
  
        <ng-container matColumnDef="dia_horario4">
          <th mat-header-cell *matHeaderCellDef>Jueves</th>
          <td mat-cell *matCellDef="let element"> {{element.horario_ordenado[3].hora}} </td>
        </ng-container>
  
        <ng-container matColumnDef="dia_horario5">
          <th mat-header-cell *matHeaderCellDef>Viernes</th>
          <td mat-cell *matCellDef="let element"> {{element.horario_ordenado[4].hora}} </td>
        </ng-container>
  
  
        
        <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>
    </table>
    </div>
        <div>
            <button mat-stroked-button  >Cancelar</button>
            <button mat-stroked-button matStepperNext color="primary">Siguiente</button>
        </div>
      </form> 
    </mat-step>
    <mat-step [stepControl]="secondFormGroup" [editable]="isEditable">
      <form [formGroup]="secondFormGroup">
        <ng-template matStepLabel>Pago</ng-template>
        <mat-form-field appearance="fill">
          <mat-label>Address</mat-label>
          <input matInput formControlName="secondCtrl" placeholder="Ex. 1 Main St, New York, NY"
                 required>
        </mat-form-field>
        <div>
            <button mat-stroked-button >Cancelar</button>
            <button mat-stroked-button matStepperNext color="primary">Siguiente</button>
        </div>
      </form>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Confirmacion</ng-template>
      <p>You are now done.</p>
      <div>
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button (click)="stepper.reset()">Reset</button>
      </div>
    </mat-step>
  </mat-stepper>
  
</div>
